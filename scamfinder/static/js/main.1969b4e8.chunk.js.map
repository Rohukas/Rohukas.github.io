{"version":3,"sources":["logo.svg","components/ScammerNumberItem.js","components/ScammerFinderPage.js","components/ChoicePage.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","ScammerNumberItem","ScammerFinderPage","props","useState","items","setItems","loading","setLoading","history","useHistory","FindNumber","str","clean","replace","matches","exec","length","useEffect","params","queryString","parse","location","search","query","sortBy","timeFrame","fetch","encodeURIComponent","then","res","json","resJson","items_with_phone_nr","data","children","filter","item","title","console","log","JSON","stringify","displayItems","map","age","timestamp1","timestamp2","difference","Math","floor","diff","Date","getTime","created_utc","round","link","permalink","number","active","status","subTitle","extra","type","key","onClick","window","reload","push","gutter","style","paddingBottom","span","href","target","ChoicePage","state","setState","onChange","e","value","name","isNaN","prevState","radioStyle","display","height","lineHeight","offset","textAlign","Group","placeholder","width","icon","App","basename","exact","path","component","Boolean","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.1969b4e8.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","import React from \"react\";\r\nimport { Card } from \"antd\";\r\nimport \"antd/dist/antd.css\"; // or 'antd/dist/antd.less'\r\nfunction ScammerNumberItem(props) {\r\n  return (\r\n    <div>\r\n      <Card\r\n        title={props.title}\r\n        // extra={<a href=\"#\">Link to reddit</a>}\r\n        style={{ width: window.innerWidth / 3 }}\r\n      >\r\n        <p>Age: {props.age}</p>\r\n        <p>Parsed number: {props.number}</p>\r\n        <p>Link: {props.link}</p>\r\n      </Card>{\" \"}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ScammerNumberItem;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport fetchJsonp from \"fetch-jsonp\";\r\nimport axios from \"axios\";\r\nimport StackGrid from \"react-stack-grid\";\r\nimport ScammerNumberItem from \"./ScammerNumberItem\";\r\nimport { utc } from \"moment\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport {\r\n  Skeleton,\r\n  Row,\r\n  Col,\r\n  Card,\r\n  Result,\r\n  Icon,\r\n  Typography,\r\n  Button\r\n} from \"antd\";\r\nimport queryString from \"query-string\";\r\nfunction ScammerFinderPage(props) {\r\n  const [items, setItems] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const history = useHistory();\r\n  const FindNumber = str => {\r\n    // Sometimes we have strings that have a single I or O in them\r\n    // ... Can I Uninstall ...\r\n    // This I would be replaced with a 1 later on and cause the number to become invalid.\r\n    // Look for these sorts of situations and remove them!\r\n    var clean = str.replace(/[a-zA-Z] [IO] [a-zA-Z]/g, \"\");\r\n    //  Filter out words that have more than 3 consequent characters\r\n    clean = clean.replace(/(?:[a-zA-Z]{3,}|[\\$\\@()+.])+/g, \"\");\r\n    // Remove non alphanumeric chars\r\n    clean = clean.replace(/[^a-zA-Z0-9]/g, \"\");\r\n    clean = clean.replace(\"I\", \"1\").replace(\"O\", \"0\");\r\n    let matches = /\\s*(?:\\+?(\\d{1,3}))?[-. (]*(\\d{3})[-. )]*(\\d{3})[-. ]*(\\d{4})(?: *x(\\d+))?\\s*/.exec(\r\n      clean\r\n    );\r\n    if (matches != null && matches.length > 0) {\r\n      return matches[0];\r\n    }\r\n    return null;\r\n  };\r\n  const diff = (timestamp1, timestamp2) => {\r\n    var difference = timestamp1 - timestamp2;\r\n    var minutes = Math.floor(difference / 1000 / 60);\r\n\r\n    return minutes;\r\n  };\r\n\r\n  const chunk = (arr, len) => {\r\n    var chunks = [],\r\n      i = 0,\r\n      n = arr.length;\r\n\r\n    while (i < n) {\r\n      chunks.push(arr.slice(i, (i += len)));\r\n    }\r\n\r\n    return chunks;\r\n  };\r\n\r\n  useEffect(() => {\r\n    let params = queryString.parse(props.location.search);\r\n    // https://www.reddit.com/r/all/search/.json?count=20&q=tech%20support&sort=new&t=hour\r\n    // Homies over there allow us to make proper jsonp calls without building backend\r\n    let query = params[\"query\"];\r\n    query = query == null ? \"tech support\" : query;\r\n\r\n    let sortBy = params[\"sortBy\"];\r\n    sortBy = sortBy == null ? \"new\" : sortBy;\r\n\r\n    let timeFrame = params[\"timeFrame\"];\r\n    timeFrame = timeFrame == null ? \"day\" : timeFrame;\r\n\r\n    fetch(\r\n      \"https://jsonp.afeld.me/?url=\" +\r\n        encodeURIComponent(\r\n          \"https://www.reddit.com/r/all/search/.json?count=125&q=\" +\r\n            query +\r\n            \"&sort=\" +\r\n            sortBy +\r\n            \"&t=\" +\r\n            timeFrame\r\n        )\r\n    )\r\n      .then(res => res.json())\r\n      .then(resJson => {\r\n        let items_with_phone_nr = resJson.data.children.filter(item =>\r\n          FindNumber(item.data.title)\r\n        );\r\n        console.log(\"itetms: \" + JSON.stringify(items_with_phone_nr));\r\n        let displayItems = items_with_phone_nr.map(item => {\r\n          let age = diff(new Date().getTime(), item.data.created_utc * 1000);\r\n          console.log(age);\r\n          if (age > 60) {\r\n            age = Math.round(age / 60) + \" hours\";\r\n          } else {\r\n            age = age + \" min\";\r\n          }\r\n\r\n          return {\r\n            title: item.data.title,\r\n            link: \"https://reddit.com\" + item.data.permalink,\r\n            age: age,\r\n            number: FindNumber(item.data.title)\r\n          };\r\n        });\r\n        setItems(displayItems);\r\n        setLoading(false);\r\n      });\r\n  }, []);\r\n  return (\r\n    <div>\r\n      {/* <div style={{ background: \"#ECECEC\", padding: \"30px\" }}> */}\r\n      <Skeleton loading={loading} active>\r\n        {!loading && items.length == 0 ? (\r\n          <Result\r\n            status=\"error\"\r\n            title=\"No results found\"\r\n            subTitle=\"Try a different set of parameters..\"\r\n            extra={[\r\n              <Button\r\n                type=\"primary\"\r\n                key=\"console\"\r\n                onClick={() => {\r\n                  window.location.reload();\r\n                }}\r\n              >\r\n                Retry\r\n              </Button>,\r\n              <Button\r\n                key=\"buy\"\r\n                onClick={() => {\r\n                  history.push(\"/\");\r\n                }}\r\n              >\r\n                Go back\r\n              </Button>\r\n            ]}\r\n          ></Result>\r\n        ) : (\r\n          <div></div>\r\n        )}\r\n        <Row gutter={16}>\r\n          {items.map(item => (\r\n            <Col style={{ paddingBottom: \"20px\" }} span={8}>\r\n              <Card\r\n                title={item.title}\r\n                // extra={<a href=\"#\">Link to reddit</a>}\r\n                //style={{ width: window.innerWidth / 3 }}\r\n              >\r\n                <p>Age: {item.age}</p>\r\n                <p>Parsed number: {item.number}</p>\r\n                <p>\r\n                  Link:{\" \"}\r\n                  <a href={item.link} target=\"_blank\">\r\n                    Open post\r\n                  </a>\r\n                </p>\r\n              </Card>{\" \"}\r\n            </Col>\r\n          ))}\r\n        </Row>\r\n      </Skeleton>\r\n    </div>\r\n    // </div>\r\n  );\r\n}\r\n\r\nexport default ScammerFinderPage;\r\n","import React, { useState } from \"react\";\r\nimport { Radio, Input, Row, Col, Button, Card, Tooltip } from \"antd\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nfunction ChoicePage(props) {\r\n  const [state, setState] = useState({\r\n    sortBy: \"new\",\r\n    timeFrame: \"hour\",\r\n    query: \"tech support\"\r\n  });\r\n  const history = useHistory();\r\n\r\n  const onChange = e => {\r\n    const { value, name } = e.target;\r\n    if ((!isNaN(value) || value !== \"\") && (!isNaN(name) || name !== \"\")) {\r\n      setState(prevState => ({\r\n        ...prevState,\r\n        [name]: value\r\n      }));\r\n    }\r\n  };\r\n\r\n  const radioStyle = {\r\n    display: \"block\",\r\n    height: \"30px\",\r\n    lineHeight: \"30px\"\r\n  };\r\n  return (\r\n    <div>\r\n      <h1></h1>\r\n      <Row>\r\n        <Col span={12} offset={6} style={{ textAlign: \"center\" }}>\r\n          <Card title=\"Select the sorting method\">\r\n            <Radio.Group onChange={onChange} name=\"sortBy\" value={state.sortBy}>\r\n              <Radio style={radioStyle} value={\"new\"}>\r\n                New\r\n              </Radio>\r\n              <Radio style={radioStyle} value={\"relevance\"}>\r\n                Relevance\r\n              </Radio>\r\n              <Radio style={radioStyle} value={\"hot\"}>\r\n                Hot\r\n              </Radio>\r\n            </Radio.Group>\r\n          </Card>\r\n          <Card title=\"Select the time-frame\">\r\n            <Radio.Group\r\n              onChange={onChange}\r\n              name=\"timeFrame\"\r\n              value={state.timeFrame}\r\n            >\r\n              <Radio style={radioStyle} value={\"hour\"}>\r\n                Hour\r\n              </Radio>\r\n              <Radio style={radioStyle} value={\"day\"}>\r\n                Day\r\n              </Radio>\r\n              <Radio style={radioStyle} value={\"week\"}>\r\n                Week\r\n              </Radio>\r\n            </Radio.Group>\r\n          </Card>\r\n          <Card title=\"Enter your query\">\r\n            <Input\r\n              placeholder=\"Tech support\"\r\n              name=\"query\"\r\n              onChange={onChange}\r\n              style={{ width: 200 }}\r\n            />\r\n            <Button\r\n              type=\"primary\"\r\n              icon=\"search\"\r\n              onClick={() => {\r\n                history.push(\r\n                  \"/scamfinder/find?timeFrame=\" +\r\n                    state.timeFrame +\r\n                    \"&sortBy=\" +\r\n                    state.sortBy +\r\n                    \"&query=\" +\r\n                    state.query\r\n                );\r\n              }}\r\n            ></Button>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ChoicePage;\r\n","import React from \"react\";\nimport logo from \"./logo.svg\";\nimport \"./App.css\";\nimport { fetchJsonp } from \"fetch-jsonp\";\nimport ScammerFinderPage from \"./components/ScammerFinderPage\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport ChoicePage from \"./components/ChoicePage\";\nfunction App() {\n  return (\n    <Router basename=\"/scamfinder\">\n      <Route exact path=\"/\" component={ChoicePage}></Route>\n      <Route path=\"/scamfinder/find\" component={ScammerFinderPage}></Route>\n    </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}